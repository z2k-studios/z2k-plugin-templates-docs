"use strict";(globalThis.webpackChunkz2k_plugin_templates_docs=globalThis.webpackChunkz2k_plugin_templates_docs||[]).push([[8459],{6335:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>t,contentTitle:()=>c,default:()=>o,frontMatter:()=>d,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"reference-manual/appendix/reference-manual-for-ai","title":"Manual for AI","description":"Do you want your AI to help you write templates for you? Point them to this page for a condensed reference manual that fits in a single document.","source":"@site/docs/reference-manual/appendix/reference-manual-for-ai.md","sourceDirName":"reference-manual/appendix","slug":"/reference-manual/appendix/reference-manual-for-ai","permalink":"/z2k-plugin-templates-docs/docs/reference-manual/appendix/reference-manual-for-ai","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":200,"frontMatter":{"title":"Manual for AI","sidebar_position":200,"aliases":["Reference Manual for AI"],"slug":"reference-manual-for-ai"},"sidebar":"Reference Manual","previous":{"title":"Appendix","permalink":"/z2k-plugin-templates-docs/docs/reference-manual/appendix/appendix"},"next":{"title":"Glossary","permalink":"/z2k-plugin-templates-docs/docs/reference-manual/appendix/glossary"}}');var l=s(4848),r=s(8453);const d={title:"Manual for AI",sidebar_position:200,aliases:["Reference Manual for AI"],slug:"reference-manual-for-ai"},c=void 0,t={},a=[{value:"Z2K Templates Plugin - Condensed Reference Manual",id:"z2k-templates-plugin---condensed-reference-manual",level:2},{value:"1. Core Concepts",id:"1-core-concepts",level:3},{value:"2. Benefits of the Template System",id:"2-benefits-of-the-template-system",level:3},{value:"3. Field Naming Conventions",id:"3-field-naming-conventions",level:3},{value:"4. Built-in Fields",id:"4-built-in-fields",level:3},{value:"5. Helper Functions",id:"5-helper-functions",level:3},{value:"6. Data Formatting",id:"6-data-formatting",level:3},{value:"7. Handlebars Compatibility",id:"7-handlebars-compatibility",level:3},{value:"8. Advanced Expressions",id:"8-advanced-expressions",level:3},{value:"9. Miss Handling",id:"9-miss-handling",level:3},{value:"10. YAML Configuration",id:"10-yaml-configuration",level:3},{value:"11. Implementation Priorities",id:"11-implementation-priorities",level:3},{value:"Architecture Recommendations",id:"architecture-recommendations",level:2},{value:"1. Core Components",id:"1-core-components",level:3},{value:"2. Implementation Approach",id:"2-implementation-approach",level:3},{value:"3. Technical Considerations",id:"3-technical-considerations",level:3},{value:"Next Steps",id:"next-steps",level:2},{value:"Z2K Template Field Processing",id:"z2k-template-field-processing",level:2}];function h(n){const e={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.p,{children:"Do you want your AI to help you write templates for you? Point them to this page for a condensed reference manual that fits in a single document."}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.admonition,{title:"Needs Updating",type:"danger",children:(0,l.jsx)(e.p,{children:"This is an early revision of the Template Engine Spec and will need updating."})}),"\n",(0,l.jsx)(e.h2,{id:"z2k-templates-plugin---condensed-reference-manual",children:"Z2K Templates Plugin - Condensed Reference Manual"}),"\n",(0,l.jsx)(e.h3,{id:"1-core-concepts",children:"1. Core Concepts"}),"\n",(0,l.jsxs)(e.p,{children:["The Z2K Templates Plugin is designed to handle template fields within Obsidian, with extended functionality beyond Obsidian's native template system. It is built on ",(0,l.jsx)(e.a,{href:"https://handlebarsjs.com",children:"handlebars.js"}),". Key concepts include:"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Template Fields"}),": Placeholders (using ",(0,l.jsx)(e.code,{children:"{{field}}"})," syntax) embedded in templates that get replaced with actual content"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Field Types"}),":"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["User Specified Fields (e.g., ",(0,l.jsx)(e.code,{children:"{{BookTitle}}"}),")"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["Built-in Fields (automatically filled by the system, e.g., ",(0,l.jsx)(e.code,{children:"{{today}}"}),")"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"2-benefits-of-the-template-system",children:"2. Benefits of the Template System"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Creates uniform/consistent documentation"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Improves content consumption efficiency"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Enhances AI compatibility"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Enables search/replace scripts for updating"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Improves compatibility with data tools like Obsidian Dataview"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"3-field-naming-conventions",children:"3. Field Naming Conventions"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"No spaces in field names"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["Built-in fields start with lowercase (e.g., ",(0,l.jsx)(e.code,{children:"{{weekNum}}"}),")"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["User-specified fields start with uppercase (e.g., ",(0,l.jsx)(e.code,{children:"{{BookAuthor}}"}),")"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Special characters have functional meanings:"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Space: Helper functions"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Colon: Date formatting"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Pipe: User querying prompts"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Period: JSON hierarchical data"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Less than: Partial templates"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Parentheses: Nested helper functions"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Tilde: External whitespace trimming"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"4-built-in-fields",children:"4. Built-in Fields"}),"\n",(0,l.jsx)(e.p,{children:"The system includes several categories of built-in fields:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Date and Time"}),": ",(0,l.jsx)(e.code,{children:"{{date}}"}),", ",(0,l.jsx)(e.code,{children:"{{time}}"}),", ",(0,l.jsx)(e.code,{children:"{{today}}"}),", ",(0,l.jsx)(e.code,{children:"{{yesterday}}"}),", ",(0,l.jsx)(e.code,{children:"{{tomorrow}}"}),", ",(0,l.jsx)(e.code,{children:"{{timestamp}}"}),", etc."]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Card Data"}),": ",(0,l.jsx)(e.code,{children:"{{title}}"}),", ",(0,l.jsx)(e.code,{children:"{{cardTitle}}"}),", ",(0,l.jsx)(e.code,{children:"{{cardAtom}}"}),", ",(0,l.jsx)(e.code,{children:"{{cardTemplateName}}"}),", etc."]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Card References"}),": ",(0,l.jsx)(e.code,{children:"{{todayLog}}"}),", ",(0,l.jsx)(e.code,{children:"{{yesterdayJournal}}"}),", ",(0,l.jsx)(e.code,{children:"{{creatorRootCard}}"}),", etc."]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"5-helper-functions",children:"5. Helper Functions"}),"\n",(0,l.jsx)(e.p,{children:"Z2K provides various built-in helper functions:"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Formatting Helpers"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"format-date"}),": Format dates with Moment.js patterns"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"format-string"}),": Add text around field values with placeholder"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"format-string-to-upper"}),": Convert to uppercase"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"format-string-to-lower"}),": Convert to lowercase"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"format-string-spacify"}),": Convert camelCase to spaced text"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"format-string-trim"}),": Remove whitespace"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"format-string-raw"}),": Prevent markdown escaping"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"format-string-bulletize"}),": Create bullet lists"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"format-number"}),": Format numbers using Numeral.js"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"format-number-toFixed"}),": Format to fixed decimal places"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Linking Helpers"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"wikilink"}),": Create Obsidian wiki links"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"wikilink-named"}),": Create wiki links with custom display text"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"url"}),": Format as URL"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"url-named"}),": Create named URLs"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Prompting Helpers"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"clear"}),": Clear field if no data provided"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"preserve"}),": Keep field if no data provided"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"no-prompt"}),": Don't prompt user for this field"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"required"}),": Mark field as required"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Misc Helpers"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"geocontext-basic"}),": Format geographic context"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"6-data-formatting",children:"6. Data Formatting"}),"\n",(0,l.jsx)(e.p,{children:"Default formatting rules:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Text fields preserve whitespace by default (can be trimmed with helper)"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"By default, markdown characters are escaped in text fields"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:['Date/time fields use default formats "YYYY-MM-DD" and "HH',":mm",'"']}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"Custom formatting options:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["Handlebars whitespace control with tilde ",(0,l.jsx)(e.code,{children:"~"})]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["Obsidian-compatible date formatting with colon syntax: ",(0,l.jsx)(e.code,{children:"{{date:YYYY-MM}}"})]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Dedicated helper functions for advanced formatting"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"7-handlebars-compatibility",children:"7. Handlebars Compatibility"}),"\n",(0,l.jsx)(e.p,{children:"Supported Handlebars features:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Nested input objects for JSON data"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Whitespace control"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Helper functions (built-in)"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Nested helper functions"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Template comments"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Partials for reusable components"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"Unsupported Handlebars features:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Conditionals and other block helpers"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Custom helper functions"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Some advanced block features"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"Z2K differences from Handlebars:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Output is Markdown, not HTML (affects escaping)"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Missing fields remain in template instead of being removed"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Additional advanced expressions specific to Z2K"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"8-advanced-expressions",children:"8. Advanced Expressions"}),"\n",(0,l.jsx)(e.p,{children:"Z2K supports several advanced expression types:"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"User Prompting"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["Format: ",(0,l.jsx)(e.code,{children:"{{FieldName|dataType|Prompt text|Default Answer|Miss Expression}}"})]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Supported data types:"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"number"}),": Numeric input only"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"date"}),": Date picker"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"boolean"}),": Checkbox"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"singleSelect:"}),": Dropdown with single selection"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"multiSelect:"}),": Dropdown with multiple selection"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Default answers can include other template fields"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Miss expressions specify what to use if field is skipped"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"JSON Data Handling"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Templates can receive external JSON data"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["Dot notation access: ",(0,l.jsx)(e.code,{children:"{{person.lastname}}"})]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"JSON data is used before prompting user"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Comment Fields"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["Format: ",(0,l.jsx)(e.code,{children:"{{! This is a comment }}"})]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Nested Helpers"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["Format: ",(0,l.jsx)(e.code,{children:"{{helper1 (helper2 fieldname)}}"})]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Allows for chaining of operations"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Partial Templates"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["Format: ",(0,l.jsx)(e.code,{children:"{{< partialTemplateFile.md}}"})]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Allows inclusion of reusable template components"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Partial templates may contain their own YAML settings"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"9-miss-handling",children:"9. Miss Handling"}),"\n",(0,l.jsx)(e.p,{children:'When a field lacks data during processing ("miss"), Z2K offers several handling options:'}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Default Behavior"}),": Fields without data remain unchanged in the output file"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Override Options"}),":"]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Default Answer"}),": If a field has a default answer in prompt syntax, it's used upon miss"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Global YAML Setting"}),": Set ",(0,l.jsx)(e.code,{children:"z2k_template_default_miss_handling"})," to:"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"preserve"}),": Keep fields as-is (default)"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"clear"}),": Remove fields without data"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"3",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Helper Functions"}),": Individual fields can override global setting with:"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"clear"}),": Remove field if no data"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"preserve"}),": Keep field if no data"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"10-yaml-configuration",children:"10. YAML Configuration"}),"\n",(0,l.jsx)(e.p,{children:"Template files can include YAML frontmatter with Z2K-specific settings:"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Miss Handling"}),":"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-yaml",children:"\nz2k_template_default_miss_handling: preserve|clear\n\n"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Default Prompt"}),":"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-yaml",children:'\nz2k_template_default_prompt: "Please specify the value of {{FieldName}}"\n\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Title"}),":"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-yaml",children:'\nz2k_template_title: "{{BookTitle|text|Book Title||preserve}} - {{BookAuthor}}"\n\n'})}),"\n",(0,l.jsx)(e.h3,{id:"11-implementation-priorities",children:"11. Implementation Priorities"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Required Features (R1)"}),":"]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Basic field replacement"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Prompting functionality"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Built-in fields"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Basic miss handling"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Future Releases"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"R2: Most of the built-in helper functions"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"R3+: JSON data handling, advanced miss handling"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"architecture-recommendations",children:"Architecture Recommendations"}),"\n",(0,l.jsx)(e.p,{children:"Based on the specification, I recommend the following architecture:"}),"\n",(0,l.jsx)(e.h3,{id:"1-core-components",children:"1. Core Components"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Template Parser"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Parse template text into tokens"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Identify field expressions and their components"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Support nested expressions and special syntax"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Field Registry"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Register and manage built-in field providers"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Interface for field resolution"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Helper Function Registry"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Register and manage built-in helpers"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Support for helper function composition"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Prompting System"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Parse prompting syntax"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Generate appropriate UI based on data type"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Handle default values and miss expressions"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Field Resolution Engine"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Resolve fields in correct order (JSON \u2192 built-in \u2192 user input)"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Apply formatting and helper functions"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Handle misses according to configuration"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Template Processor"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Coordinate the overall template processing"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Multi-pass processing for resolving dependencies"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"YAML configuration handling"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"2-implementation-approach",children:"2. Implementation Approach"}),"\n",(0,l.jsx)(e.p,{children:"I recommend a modular approach with clear interfaces between components:"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Start with Core Field Resolution"}),":"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Basic field replacement"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Built-in field providers"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Simple prompting"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Add Helper Functions"}),":"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Implement the most critical helpers first"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Create a pluggable helper system"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"3",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Implement Advanced Features"}),":"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Miss handling"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"JSON data integration"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Partial templates"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"3-technical-considerations",children:"3. Technical Considerations"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Handlebars Integration"}),":"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Consider using a modified Handlebars library to leverage existing parsing"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Extensions needed for Z2K-specific features"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Field Resolution Strategy"}),":"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Clear determination of precedence for field values"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Multi-pass resolution for interdependent fields"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"3",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Testing Framework"}),":"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Create a comprehensive test suite"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["Use the provided fiddle for quick testing: ",(0,l.jsx)(e.a,{href:"https://jsfiddle.net/76484/bpoezqga/",children:"https://jsfiddle.net/76484/bpoezqga/"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"4",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Performance Considerations"}),":"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Optimize for templates with many fields"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Efficient parsing for large templates"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Create Core Interfaces"}),":"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Define interfaces for field providers, helpers, and formatters"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Establish the template processing pipeline"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Implement Minimal Viable Product"}),":"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Basic field replacement"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Critical built-in fields"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Simple prompting"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"3",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Add Testing Framework"}),":"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Comprehensive tests for each component"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Integration tests for full template processing"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"4",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Implement Priority Features"}),":"]}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Follow the prioritization guidance in the developer notes"}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"z2k-template-field-processing",children:"Z2K Template Field Processing"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.strong,{children:"Parse Template"})}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Split the template into plain text and field expressions"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["Identify field expressions by matching ",(0,l.jsx)(e.code,{children:"{{...}}"})," pairs, handling nesting correctly by tracking depth"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.strong,{children:"Process Each Field Expression"})}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["Start with the ",(0,l.jsx)(e.code,{children:"rawExpression"})," containing the entire contents between ",(0,l.jsx)(e.code,{children:"{{"})," and ",(0,l.jsx)(e.code,{children:"}}"})]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Identify any Z2K-formatted fields within the expression using pattern matching"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["Z2K fields follow pattern: ",(0,l.jsx)(e.code,{children:"FieldName(#directive)*(|dataType)?(|Prompt)?(|Default)?(|Miss)?"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"3",children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.strong,{children:"Extract Z2K Metadata"})}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["Field name: The identifier before any ",(0,l.jsx)(e.code,{children:"#"})," or ",(0,l.jsx)(e.code,{children:"|"})]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["Directives: Any ",(0,l.jsx)(e.code,{children:"#directive"})," flags (",(0,l.jsx)(e.code,{children:"#clear"}),", ",(0,l.jsx)(e.code,{children:"#preserve"}),", etc.)"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["Data type: Information after first ",(0,l.jsx)(e.code,{children:"|"})," (if present)"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["Prompt text: Text after second ",(0,l.jsx)(e.code,{children:"|"})," (if present)"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["Default value: Value after third ",(0,l.jsx)(e.code,{children:"|"})," (if present)"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["Miss expression: Value after fourth ",(0,l.jsx)(e.code,{children:"|"})," (if present)"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"4",children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.strong,{children:"Transform for Handlebars"})}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["Generate ",(0,l.jsx)(e.code,{children:"handlebarsReadyExpression"})," by replacing Z2K formatted fields with simple ",(0,l.jsx)(e.code,{children:"FieldName"})," references"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Preserve all other Handlebars syntax (helpers, conditionals, etc.)"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Store the metadata separately for use in your prompt system"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"5",children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.strong,{children:"Gather Field Values"})}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Use your prompt system to collect user input for each field based on stored metadata"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Build a context object mapping field names to their resolved values"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.ol,{start:"6",children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.strong,{children:"Process with Handlebars"})}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["Run Handlebars using the ",(0,l.jsx)(e.code,{children:"handlebarsReadyExpression"})," and context object"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Apply any custom helpers as needed"}),"\n"]}),"\n"]})]})}function o(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(h,{...n})}):h(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>d,x:()=>c});var i=s(6540);const l={},r=i.createContext(l);function d(n){const e=i.useContext(r);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:d(n.components),i.createElement(r.Provider,{value:e},n.children)}}}]);